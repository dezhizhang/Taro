<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        html,body{ overflow: hidden; height: 100%}
        body,h1,h2,h3,h4,p,ul,ol{ margin: 0;padding: 0;font-size: 14px '微软雅黑';}
        li{list-style: none;}
        image{border: none;}
        a{text-decoration: none;}
        a:active{ color: #009ee0;}
        .clear{zoom: 1;}
        .clear:after{ content: '';display: block;clear: both;}
        #main{width: 100%;height: 100%;}
        #header{width: 100%;height: 80px;background: #ffff;}
        #header-main{ width: 1100px;margin: 0 auto; height: 80px; position: relative;}
        #logo{display: block;height: 100%;line-height: 80px; float: left;}
        #nav{float: right; margin-top: 50px;}
        #nav li{ float: left; position: relative; margin-left: 40px;}
        #nav li .up{ position: absolute;top: 0; left: 0;color: #000; width: 0%;overflow: hidden;}
        #nav li:hover .up{width: 100%;transition: ease-out 0.5s}
        #arrow{width: 21px;height: 11px; background:url('./imgs/menuIndicator.png') no-repeat;position: absolute;left: 74%;bottom: -11px; z-index: 10; transition: 0.5s left;}
        #content{width: 100%;height: 400px;background: red;}
    </style>
</head>
<body>
    <div id="main">
        <div id="header">
            <div id="header-main">
                <a id="logo" href="http://baidu.com">
                    <img src="./imgs/logo.png"/>
                </a>
                <ul id="nav">
                    <li>
                        <a href="javascript:;">
                            <div class="up"><img src="./imgs/home_gruen.png"/></div>
                            <div><img src="./imgs/home.png"/></div>
                        </a>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <div class="up">Works</div>
                            <div>Works</div>
                        </a>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <div class="up">About</div>
                            <div>About</div>
                        </a>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <div class="up">Tream</div>
                            <div>Tream</div>
                        </a>
                    </li>
                   
                </ul>
                <div id="arrow"></div>
               
            </div>
        </div>
        <div id="content">
            <ul id="list">
                <li id="home" class="liList"></li>
                <li id="course" class="liList"></li>
                <li id="works" class="liList"></li>
                <li id="about" class="liList"></li>
                <li id="tram" class="liList"></li>
            </ul>
        </div>
    </div>
    <script>
     //获取id
     window.onload = function() {
         //获取id
        function $(id) {
             return document.getElementById(id);
        }

        let oNav = $('nav');
        let oList =$('list');
        let aLiNav = oNav.getElementsByTagName('li');
        let oArrow = document.getElementById('arrow');
        let aLiList = getByClass(oList,'liList');
      

        
        bindNav();

        function bindNav() {
            let oDiv = aLiNav[0].getElementsByTagName('div')[0];
            oDiv.style.width = '100%';
            oArrow.style.left = aLiNav[0].offsetLeft + aLiNav[0].offsetWidth /2 - oArrow.offsetWidth / 2 +'px'

            for(let i=0;i<aLiNav.length;i++){
                aLiNav[i].index = i;
                aLiNav[i].onclick = function() {
                    toMove(this.index)
                }
            }
        }

        function toMove(index) {
            for(let j=0;j<aLiNav.length;j++){
                let oDiv = aLiNav[j].getElementsByTagName('div')[0];
                oDiv.style.width = '';
            }
            let oDiv = aLiNav[index].getElementsByTagName('div')[0];
            oDiv.style.width = '100%';
            oArrow.style.left = aLiNav[index].offsetLeft + aLiNav[index].offsetWidth /2 - oArrow.offsetWidth / 2 +'px'

        }

        //获取可视区的宽
        function vviewWidth() {
            return window.innerWidth || document.documentElement.clientWidth;
        }
        //获取可视区的高
        function viewHeight() {
            return window.innerWidth || document.documentElement.clientHeight;
        }

        //获取class
        function getByClass(oParent,sClass) {
            let aElem = oParent.getElementsByTagName('*');
            let arr = [];
            for(let i=0;i<aElem.length;i++) {
                if(aElem[i].className ==sClass) {
                    arr.push(aElem[i])
                }
            }
            return arr;
        }



     }
    </script>
</body>
</html>